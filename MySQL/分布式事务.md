## 分布式理论

<h3>CAP理论<h3/>是由加州大学Eric Brewer教授提出来的，这个理论告诉我们，

一个分布式系统不可能同时满足一致性(Consistency)、可用性(Availability)、分区容错性(Partition tolerance)这三个基本需求，最多只能同时满足其中两项。

一致性：这里的一致性是指数据的强一致，也称为线性一致性。是指在分布式环境中，数据在多个副本之间是否能够保持一致的特性。

也就是说对某个数据进行写操作后立马执行读操作，必须能读取到刚刚写入的值。

可用性：任意被无故障节点接收到的请求，必须能够在有限的时间内响应结果。

分区容错性：如果集群中的机器被分成了两部分，这两部分不能互相通信，系统是否能继续正常工作。

在分布式系统中，分区容错性是基本要保证的。也就是说只能在一致性和可用性之间进行取舍。

一致性和可用性，为什么不可能同时成立？由于数据会分布在不同的网络分区，必然会存在数据同步的问题，

而同步会存在网络延迟、异常等问题，所以会出现数据的不一致！如果要保证数据的一致性，那么就必须在对写库进行操作时，锁定其他读库的操作。

只有写入成功且完成数据同步后，才能重新放开读写，而这样在锁定期间，系统丧失了可用性。

## 分布式事务

分布式事务就是在分布式的场景下，需要满足事务的需求！

不管是本地事务，还是分布式事务，都是为了解决数据的一致性问题！

与本地事务不同的是，分布式事务需要保证的是分布式环境下，不同数据库表中的数据的一致性问题。

分布式事务的解决方案有多种，如XA协议、TCC三阶段提交、基于消息队列等等。
